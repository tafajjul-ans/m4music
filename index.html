<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>M4 Music | Official Music Label</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="M4 Music is a professional music label promoting original, soulful and powerful music across genres.">
<meta name="keywords" content="M4 Music, Music Label, Hindi Songs, Indie Music">
<meta name="robots" content="index, follow">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<!-- üîê reCAPTCHA v3 -->
<script src="https://www.google.com/recaptcha/api.js?render=YOUR_RECAPTCHA_SITE_KEY"></script>

<style>
:root{
  --primary:#8142f5;
  --bg:#0b0b12;
  --card:#151525;
  --text:#ffffff;
  --muted:#b3b3c9;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
body{background:var(--bg);color:var(--text);}
section{padding:80px 6%;}
.btn{padding:14px 30px;background:var(--primary);color:#fff;border-radius:30px;border:none;cursor:pointer;}
.top-header{position:fixed;top:0;width:100%;padding:16px 6%;background:rgba(11,11,18,.85);z-index:999}
.logo{height:42px}
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:20px}
.card{background:var(--card);padding:25px;border-radius:20px}
.counter{font-size:48px;color:var(--primary);font-weight:700}
form input,form textarea{width:100%;padding:14px;margin-bottom:14px;border-radius:10px;border:none;background:#0f0f1c;color:#fff}
footer{background:#07070d;padding:25px;text-align:center;color:var(--muted)}
</style>
</head>

<body>

<header class="top-header">
  <img src="logo.png" class="logo">
</header>

<section style="padding-top:140px">
  <h1>Powerful <span style="color:#8142f5">Music Label</span></h1>
  <p>Feel the Music. Live the Emotion.</p>
  <video src="intro-logo.mp4" autoplay muted loop playsinline style="width:100%;border-radius:20px"></video>
</section>

<section>
  <h2>YouTube Subscribers</h2>
  <div class="counter" id="subCount">Loading...</div>
</section>

<section>
  <h2>Latest Releases</h2>
  <div class="cards" id="latestVideos"></div>
</section>

<section>
  <h2>Artist Submission</h2>
  <form id="artistForm">
    <input name="name" placeholder="Artist Name" required>
    <input name="email" type="email" placeholder="Email" required>
    <input name="phone" placeholder="Phone">
    <input name="genre" placeholder="Genre">
    <input name="link" placeholder="YouTube / Drive Link">
    <textarea name="message" placeholder="Message"></textarea>
    <button class="btn">Submit</button>
    <p id="formStatus"></p>
  </form>
</section>

<footer>¬© 2025 M4 Music</footer>

<script>
const API_KEY = "AIzaSyDOi7MuTyqjfieHKGahj0VBcGpxei9dZTQ";
const CHANNEL_ID = "UCBvUdk2o8QR9-3jXdhEe6mw";
const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbz2uTeTje7JNe7MD6S5IPsXeY8Y4zzgAi4fCH94b8CSOEXb9NNPkeOJY9VSlTGmJvK6/exec";
const SITE_KEY = "6Le3DTwsAAAAAO025hLHqyVaSd2fwwhhvXl8ftii";

/* ---------- YOUTUBE ---------- */
async function getSubscribers(){
  const r = await fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${CHANNEL_ID}&key=${API_KEY}`);
  const d = await r.json();
  document.getElementById("subCount").innerText = Number(d.items[0].statistics.subscriberCount).toLocaleString();
}
getSubscribers();

/* ---------- FORM + reCAPTCHA ---------- */
document.getElementById("artistForm").addEventListener("submit", function(e){
  e.preventDefault();
  const status = document.getElementById("formStatus");
  status.innerText = "‚è≥ Sending...";

  grecaptcha.ready(function(){
    grecaptcha.execute(SITE_KEY,{action:"submit"}).then(function(token){

      const f = e.target;
      const data = {
        name:f.name.value,
        email:f.email.value,
        phone:f.phone.value,
        genre:f.genre.value,
        link:f.link.value,
        message:f.message.value,
        recaptcha:token
      };

      fetch(WEB_APP_URL,{
        method:"POST",
        body:JSON.stringify(data),
        headers:{"Content-Type":"application/json"}
      })
      .then(r=>r.json())
      .then(res=>{
        if(res.status!=="success"){
          status.innerText="‚ùå Submission blocked. Try later.";
          return;
        }
        status.innerText="‚úÖ Message sent successfully!";
        f.reset();
      })
      .catch(()=>{
        status.innerText="‚ùå Server error";
      });

    });
  });
});
</script>
</body>
</html>
